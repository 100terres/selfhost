#!/usr/bin/env bash

read -s -p "Enter KeePass Password: " PASSWORD

printf "\n\n Thank you!"

# Core must be first!
printf "\n\nCore\n"
cd services/core
docker compose up -d --remove-orphans
cd ../..

printf "\n\nCore\n"
cd services/ghostfolio
docker compose up -d --remove-orphans
cd ../..

printf "\n\nPersonal Mastodon Instance\n"
cd services/personal-mastodon-instance
docker compose up -d --remove-orphans
cd ../..

printf "\n\nProfessional Mastodon Instance\n"
cd services/professional-mastodon-instance
docker compose up -d --remove-orphans
cd ../..

printf "\n\nForgejo Runner\n"
cd services/forgejo-runner
docker compose up -d --remove-orphans
cd ../..

printf "\n\nSelf Hosting Demo\n"
cd services/self-hosting-demo
docker compose up -d --remove-orphans
cd ../..

cd services/forgejo
printf "\n\Forgejo\n"
FNOX_KEEPASS_PASSWORD=$PASSWORD fnox exec --if-missing error -- docker compose up -d --remove-orphans
cd ../..
